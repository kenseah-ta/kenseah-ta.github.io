(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[290],{4939:(e,t,a)=>{Promise.resolve().then(a.bind(a,7305))},7305:(e,t,a)=>{"use strict";a.d(t,{default:()=>f});var n=a(3522),l=a(282),r=a(753),i=a.n(r),s=a(3754),o=a(3312);let c="google-map",u=e=>{let{venue:t,onMarkerClick:a,onMarkerClose:r,infoWindowOpenId:c}=e,[u,d]=(0,o.vH)(),[h,m]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{c===t.FacilityID?m(!0):m(!1)},[c]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.J8,{className:i().marker,ref:u,position:{lat:Number(t.Latitude),lng:Number(t.Longitude)},title:t.CardioDeliverers.ClubName,onClick:()=>a(t.FacilityID),children:(0,n.jsx)(s.default,{src:"/play/tennis-marker.svg",width:32,height:32,alt:"tennis marker"})}),h?(0,n.jsxs)(o.Fu,{anchor:d,onClose:r,children:[(0,n.jsxs)("h2",{children:["InfoWindow for Facility Id: ",t.FacilityID]}),(0,n.jsx)("h3",{children:t.ClubName}),(0,n.jsx)("p",{children:"Some arbitrary html to be rendered into the InfoWindow."})]}):null]})},d=e=>{let{interactiveCoordinates:t}=e,a=(0,o.ko)(c);return(0,l.useEffect)(()=>{a&&t&&a.panTo(t)},[t]),null},h=e=>{let{venues:t,initialCoordinates:a,interactiveCoordinates:r,onMarkerClick:i}=e,[s,h]=(0,l.useState)(null);return(0,n.jsxs)(o.c4,{apiKey:"AIzaSyD-_j3CUGGdV73RjIfPZy6ZmjCh1yKydEg",children:[(0,n.jsx)(o.T5,{id:c,style:{width:"100vw",height:"calc(100vh - 81px)"},defaultCenter:a,defaultZoom:12,mapId:"6019f7fded6b6d7d",children:(null==t?void 0:t.map((e,t)=>(0,n.jsx)(u,{venue:e,onMarkerClick:()=>{h(e.FacilityID),i(e.FacilityID)},onMarkerClose:()=>h(null),infoWindowOpenId:s},t)))||null}),(0,n.jsx)(d,{interactiveCoordinates:r})]})};var m=a(9363),g=a(2315);let f=e=>{let{suburb:t,state:a,postcode:r}=e,[i,s]=(0,l.useState)({lat:0,lng:0}),[o,c]=(0,l.useState)([]),[u,d]=(0,l.useState)(null),f=(0,g.useSearchParams)().get("proximity");(0,l.useEffect)(()=>{(async()=>{try{let e=await (0,m.m)({suburb:t,state:a,postcode:r,proximity:f});s({lat:Number(e.lat),lng:Number(e.lng)}),c(e.venues)}catch(e){console.error("Error fetching venues:",e)}})()},[t,a,r,f]);let p=e=>{console.log(e),d(e)},y=(0,l.useMemo)(()=>{if(u){let e=o.find(e=>e.FacilityID===u);if(e)return{lat:Number(e.Latitude),lng:Number(e.Longitude)}}},[u,o]);return(0,n.jsx)("div",{children:i.lat?(0,n.jsx)(h,{initialCoordinates:i,interactiveCoordinates:u?y:void 0,venues:o,onMarkerClick:e=>p(e)}):null})}},9363:(e,t,a)=>{"use strict";a.d(t,{V:()=>l,m:()=>r});var n=a(2964);let l=async()=>{try{return(await (0,n.A)("https://hotshots.tennis.com.au/wp-json/spark_digital/v6.7.1/get_locations")).data}catch(e){console.debug(e)}},r=async e=>{let{suburb:t,state:a,postcode:l,proximity:r}=e;try{let e=t.replace(/\s/g,"%20"),i="https://cardiotennis.com.au/wp-json/spark_digital/v6.7.1/get_venues?location=".concat(e,"%20").concat(a,"%20").concat(l);return i+=r?"&proximity=".concat(r):"",(await (0,n.A)(i)).data}catch(e){console.debug(e)}}},753:e=>{e.exports={marker:"googleMap_marker__MWi90"}}},e=>{var t=t=>e(e.s=t);e.O(0,[382,846,964,312,34,803,358],()=>t(4939)),_N_E=e.O()}]);